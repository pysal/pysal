<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>pysal.model.spreg.GM_Combo_Het &#8212; pysal v2.1.0 Manual</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/pysal-styles.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/pysal_favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pysal.model.spreg.GM_Combo_Hom" href="pysal.model.spreg.GM_Combo_Hom.html" />
    <link rel="prev" title="pysal.model.spreg.GM_Combo" href="pysal.model.spreg.GM_Combo.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          pysal</a>
        <span class="navbar-text navbar-version pull-left"><b>2.1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../installation.html">Installation</a></li>
                <li><a href="../api.html">API</a></li>
                <li><a href="../references.html">References</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installing-with-conda">Installing with conda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installing-with-pip">Installing with pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installing-the-development-version">Installing the development version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installing-versions-supporting-python-2">Installing versions supporting Python 2</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api.html#pysal-lib-pysal-core"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pysal.lib</span></code>: PySAL Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#pysal-explore-exploratory-spatial-data-analysis"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pysal.explore</span></code>: Exploratory spatial data analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#pysal-viz-geovisualization"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pysal.viz</span></code>: Geovisualization</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#pysal-model-linear-models-for-spatial-data-analysis"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pysal.model</span></code>: Linear models for spatial data analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">pysal.model.spreg.GM_Combo_Het</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="pysal-model-spreg-gm-combo-het">
<h1>pysal.model.spreg.GM_Combo_Het<a class="headerlink" href="#pysal-model-spreg-gm-combo-het" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pysal.model.spreg.GM_Combo_Het">
<em class="property">class </em><code class="sig-prename descclassname">pysal.model.spreg.</code><code class="sig-name descname">GM_Combo_Het</code><span class="sig-paren">(</span><em class="sig-param">y</em>, <em class="sig-param">x</em>, <em class="sig-param">yend=None</em>, <em class="sig-param">q=None</em>, <em class="sig-param">w=None</em>, <em class="sig-param">w_lags=1</em>, <em class="sig-param">lag_q=True</em>, <em class="sig-param">max_iter=1</em>, <em class="sig-param">epsilon=1e-05</em>, <em class="sig-param">step1c=False</em>, <em class="sig-param">inv_method='power_exp'</em>, <em class="sig-param">vm=False</em>, <em class="sig-param">name_y=None</em>, <em class="sig-param">name_x=None</em>, <em class="sig-param">name_yend=None</em>, <em class="sig-param">name_q=None</em>, <em class="sig-param">name_w=None</em>, <em class="sig-param">name_ds=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysal/model/spreg/error_sp_het.html#GM_Combo_Het"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysal.model.spreg.GM_Combo_Het" title="Permalink to this definition">¶</a></dt>
<dd><p>GMM method for a spatial lag and error model with heteroskedasticity and
endogenous variables, with results and diagnostics; based on Arraiz et al
<a class="reference internal" href="../references.html#arraiz2010" id="id1">[ADKP10]</a>, following Anselin <a class="reference internal" href="../references.html#anselin2011" id="id2">[Ans11]</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>y</strong><span class="classifier">array</span></dt><dd><p>nx1 array for dependent variable</p>
</dd>
<dt><strong>x</strong><span class="classifier">array</span></dt><dd><p>Two dimensional array with n rows and one column for each
independent (exogenous) variable, excluding the constant</p>
</dd>
<dt><strong>yend</strong><span class="classifier">array</span></dt><dd><p>Two dimensional array with n rows and one column for each
endogenous variable</p>
</dd>
<dt><strong>q</strong><span class="classifier">array</span></dt><dd><p>Two dimensional array with n rows and one column for each
external exogenous variable to use as instruments (note: 
this should not contain any variables from x)</p>
</dd>
<dt><strong>w</strong><span class="classifier">pysal W object</span></dt><dd><p>Spatial weights object (always needed)</p>
</dd>
<dt><strong>w_lags</strong><span class="classifier">integer</span></dt><dd><p>Orders of W to include as instruments for the spatially
lagged dependent variable. For example, w_lags=1, then
instruments are WX; if w_lags=2, then WX, WWX; and so on.</p>
</dd>
<dt><strong>lag_q</strong><span class="classifier">boolean</span></dt><dd><p>If True, then include spatial lags of the additional 
instruments (q).</p>
</dd>
<dt><strong>max_iter</strong><span class="classifier">int</span></dt><dd><p>Maximum number of iterations of steps 2a and 2b from Arraiz
et al. Note: epsilon provides an additional stop condition.</p>
</dd>
<dt><strong>epsilon</strong><span class="classifier">float</span></dt><dd><p>Minimum change in lambda required to stop iterations of
steps 2a and 2b from Arraiz et al. Note: max_iter provides
an additional stop condition.</p>
</dd>
<dt><strong>step1c</strong><span class="classifier">boolean</span></dt><dd><p>If True, then include Step 1c from Arraiz et al.</p>
</dd>
<dt><strong>inv_method</strong><span class="classifier">string</span></dt><dd><p>If “power_exp”, then compute inverse using the power
expansion. If “true_inv”, then compute the true inverse.
Note that true_inv will fail for large n.</p>
</dd>
<dt><strong>vm</strong><span class="classifier">boolean</span></dt><dd><p>If True, include variance-covariance matrix in summary
results</p>
</dd>
<dt><strong>name_y</strong><span class="classifier">string</span></dt><dd><p>Name of dependent variable for use in output</p>
</dd>
<dt><strong>name_x</strong><span class="classifier">list of strings</span></dt><dd><p>Names of independent variables for use in output</p>
</dd>
<dt><strong>name_yend</strong><span class="classifier">list of strings</span></dt><dd><p>Names of endogenous variables for use in output</p>
</dd>
<dt><strong>name_q</strong><span class="classifier">list of strings</span></dt><dd><p>Names of instruments for use in output</p>
</dd>
<dt><strong>name_w</strong><span class="classifier">string</span></dt><dd><p>Name of weights matrix for use in output</p>
</dd>
<dt><strong>name_ds</strong><span class="classifier">string</span></dt><dd><p>Name of dataset for use in output</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>We first need to import the needed modules, namely numpy to convert the
data we read into arrays that <code class="docutils literal notranslate"><span class="pre">spreg</span></code> understands and <code class="docutils literal notranslate"><span class="pre">pysal</span></code> to
perform all the analysis.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pysal.lib</span>
</pre></div>
</div>
<p>Open data on Columbus neighborhood crime (49 areas) using pysal.lib.io.open().
This is the DBF associated with the Columbus shapefile.  Note that
pysal.lib.io.open() also reads data in CSV format; since the actual class
requires data to be passed in as numpy arrays, the user can read their
data in using any method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">pysal</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">pysal</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">examples</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="s1">&#39;columbus.dbf&#39;</span><span class="p">),</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Extract the HOVAL column (home values) from the DBF file and make it the
dependent variable for the regression. Note that PySAL requires this to be
an numpy array of shape (n, 1) as opposed to the also common shape of (n, )
that other packages accept.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">by_col</span><span class="p">(</span><span class="s2">&quot;HOVAL&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="mi">49</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>Extract INC (income) vector from the DBF to be used as
independent variables in the regression.  Note that PySAL requires this to
be an nxj numpy array, where j is the number of independent variables (not
including a constant). By default this class adds a vector of ones to the
independent variables passed in.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">by_col</span><span class="p">(</span><span class="s2">&quot;INC&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
<p>Since we want to run a spatial error model, we need to specify the spatial
weights matrix that includes the spatial configuration of the observations
into the error component of the model. To do that, we can open an already
existing gal file or create a new one. In this case, we will create one
from <code class="docutils literal notranslate"><span class="pre">columbus.shp</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">pysal</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">weights</span><span class="o">.</span><span class="n">Rook</span><span class="o">.</span><span class="n">from_shapefile</span><span class="p">(</span><span class="n">pysal</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">examples</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="s2">&quot;columbus.shp&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>Unless there is a good reason not to do it, the weights have to be
row-standardized so every row of the matrix sums to one. Among other
things, his allows to interpret the spatial lag of a variable as the
average value of the neighboring observations. In PySAL, this can be
easily performed in the following way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="o">.</span><span class="n">transform</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span>
</pre></div>
</div>
<p>The Combo class runs an SARAR model, that is a spatial lag+error model.
In this case we will run a simple version of that, where we have the
spatial effects as well as exogenous variables. Since it is a spatial
model, we have to pass in the weights matrix. If we want to
have the names of the variables printed in the output summary, we will
have to pass them in as well, although this is optional.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reg</span> <span class="o">=</span> <span class="n">GM_Combo_Het</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="n">w</span><span class="p">,</span> <span class="n">step1c</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">name_y</span><span class="o">=</span><span class="s1">&#39;hoval&#39;</span><span class="p">,</span> <span class="n">name_x</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">],</span> <span class="n">name_ds</span><span class="o">=</span><span class="s1">&#39;columbus&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Once we have run the model, we can explore a little bit the output. The
regression object we have created has many attributes so take your time to
discover them. This class offers an error model that explicitly accounts
for heteroskedasticity and that unlike the models from
<code class="docutils literal notranslate"><span class="pre">spreg.error_sp</span></code>, it allows for inference on the spatial
parameter. Hence, we find the same number of betas as of standard errors,
which we calculate taking the square root of the diagonal of the
variance-covariance matrix:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">reg</span><span class="o">.</span><span class="n">name_z</span>
<span class="go">[&#39;CONSTANT&#39;, &#39;income&#39;, &#39;W_hoval&#39;, &#39;lambda&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">reg</span><span class="o">.</span><span class="n">betas</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">reg</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">diagonal</span><span class="p">())</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))),</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[[  9.9753  14.1435]</span>
<span class="go"> [  1.5742   0.374 ]</span>
<span class="go"> [  0.1535   0.3978]</span>
<span class="go"> [  0.2103   0.3924]]</span>
</pre></div>
</div>
<p>This class also allows the user to run a spatial lag+error model with the
extra feature of including non-spatial endogenous regressors. This means
that, in addition to the spatial lag and error, we consider some of the
variables on the right-hand side of the equation as endogenous and we
instrument for this. As an example, we will include CRIME (crime rates) as
endogenous and will instrument with DISCBD (distance to the CSB). We first
need to read in the variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">yd</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">yd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">by_col</span><span class="p">(</span><span class="s2">&quot;CRIME&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">yd</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">yd</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">by_col</span><span class="p">(</span><span class="s2">&quot;DISCBD&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">q</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
<p>And then we can run and explore the model analogously to the previous combo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reg</span> <span class="o">=</span> <span class="n">GM_Combo_Het</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">yd</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="n">w</span><span class="p">,</span> <span class="n">step1c</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">name_x</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;inc&#39;</span><span class="p">],</span> <span class="n">name_y</span><span class="o">=</span><span class="s1">&#39;hoval&#39;</span><span class="p">,</span> <span class="n">name_yend</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;crime&#39;</span><span class="p">],</span> <span class="n">name_q</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;discbd&#39;</span><span class="p">],</span> <span class="n">name_ds</span><span class="o">=</span><span class="s1">&#39;columbus&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">reg</span><span class="o">.</span><span class="n">name_z</span>
<span class="go">[&#39;CONSTANT&#39;, &#39;inc&#39;, &#39;crime&#39;, &#39;W_hoval&#39;, &#39;lambda&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">reg</span><span class="o">.</span><span class="n">betas</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[[ 113.9129]</span>
<span class="go"> [  -0.3482]</span>
<span class="go"> [  -1.3566]</span>
<span class="go"> [  -0.5766]</span>
<span class="go"> [   0.6561]]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>summary</strong><span class="classifier">string</span></dt><dd><p>Summary of regression results and diagnostics (note: use in
conjunction with the print command)</p>
</dd>
<dt><strong>betas</strong><span class="classifier">array</span></dt><dd><p>kx1 array of estimated coefficients</p>
</dd>
<dt><strong>u</strong><span class="classifier">array</span></dt><dd><p>nx1 array of residuals</p>
</dd>
<dt><strong>e_filtered</strong><span class="classifier">array</span></dt><dd><p>nx1 array of spatially filtered residuals</p>
</dd>
<dt><strong>e_pred</strong><span class="classifier">array</span></dt><dd><p>nx1 array of residuals (using reduced form)</p>
</dd>
<dt><strong>predy</strong><span class="classifier">array</span></dt><dd><p>nx1 array of predicted y values</p>
</dd>
<dt><strong>predy_e</strong><span class="classifier">array</span></dt><dd><p>nx1 array of predicted y values (using reduced form)</p>
</dd>
<dt><strong>n</strong><span class="classifier">integer</span></dt><dd><p>Number of observations</p>
</dd>
<dt><strong>k</strong><span class="classifier">integer</span></dt><dd><p>Number of variables for which coefficients are estimated
(including the constant)</p>
</dd>
<dt><strong>y</strong><span class="classifier">array</span></dt><dd><p>nx1 array for dependent variable</p>
</dd>
<dt><strong>x</strong><span class="classifier">array</span></dt><dd><p>Two dimensional array with n rows and one column for each
independent (exogenous) variable, including the constant</p>
</dd>
<dt><strong>yend</strong><span class="classifier">array</span></dt><dd><p>Two dimensional array with n rows and one column for each
endogenous variable</p>
</dd>
<dt><strong>q</strong><span class="classifier">array</span></dt><dd><p>Two dimensional array with n rows and one column for each
external exogenous variable used as instruments</p>
</dd>
<dt><strong>z</strong><span class="classifier">array</span></dt><dd><p>nxk array of variables (combination of x and yend)</p>
</dd>
<dt><strong>h</strong><span class="classifier">array</span></dt><dd><p>nxl array of instruments (combination of x and q)</p>
</dd>
<dt><strong>iter_stop</strong><span class="classifier">string</span></dt><dd><p>Stop criterion reached during iteration of steps 2a and 2b
from Arraiz et al.</p>
</dd>
<dt><strong>iteration</strong><span class="classifier">integer</span></dt><dd><p>Number of iterations of steps 2a and 2b from Arraiz et al.</p>
</dd>
<dt><strong>mean_y</strong><span class="classifier">float</span></dt><dd><p>Mean of dependent variable</p>
</dd>
<dt><strong>std_y</strong><span class="classifier">float</span></dt><dd><p>Standard deviation of dependent variable</p>
</dd>
<dt><strong>vm</strong><span class="classifier">array</span></dt><dd><p>Variance covariance matrix (kxk)</p>
</dd>
<dt><strong>pr2</strong><span class="classifier">float</span></dt><dd><p>Pseudo R squared (squared correlation between y and ypred)</p>
</dd>
<dt><strong>pr2_e</strong><span class="classifier">float</span></dt><dd><p>Pseudo R squared (squared correlation between y and ypred_e
(using reduced form))</p>
</dd>
<dt><strong>std_err</strong><span class="classifier">array</span></dt><dd><p>1xk array of standard errors of the betas</p>
</dd>
<dt><strong>z_stat</strong><span class="classifier">list of tuples</span></dt><dd><p>z statistic; each tuple contains the pair (statistic,
p-value), where each is a float</p>
</dd>
<dt><strong>name_y</strong><span class="classifier">string</span></dt><dd><p>Name of dependent variable for use in output</p>
</dd>
<dt><strong>name_x</strong><span class="classifier">list of strings</span></dt><dd><p>Names of independent variables for use in output</p>
</dd>
<dt><strong>name_yend</strong><span class="classifier">list of strings</span></dt><dd><p>Names of endogenous variables for use in output</p>
</dd>
<dt><strong>name_z</strong><span class="classifier">list of strings</span></dt><dd><p>Names of exogenous and endogenous variables for use in 
output</p>
</dd>
<dt><strong>name_q</strong><span class="classifier">list of strings</span></dt><dd><p>Names of external instruments</p>
</dd>
<dt><strong>name_h</strong><span class="classifier">list of strings</span></dt><dd><p>Names of all instruments used in ouput</p>
</dd>
<dt><strong>name_w</strong><span class="classifier">string</span></dt><dd><p>Name of weights matrix for use in output</p>
</dd>
<dt><strong>name_ds</strong><span class="classifier">string</span></dt><dd><p>Name of dataset for use in output</p>
</dd>
<dt><strong>title</strong><span class="classifier">string</span></dt><dd><p>Name of the regression method used</p>
</dd>
<dt><strong>hth</strong><span class="classifier">float</span></dt><dd><p>H’H</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="pysal.model.spreg.GM_Combo_Het.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">y</em>, <em class="sig-param">x</em>, <em class="sig-param">yend=None</em>, <em class="sig-param">q=None</em>, <em class="sig-param">w=None</em>, <em class="sig-param">w_lags=1</em>, <em class="sig-param">lag_q=True</em>, <em class="sig-param">max_iter=1</em>, <em class="sig-param">epsilon=1e-05</em>, <em class="sig-param">step1c=False</em>, <em class="sig-param">inv_method='power_exp'</em>, <em class="sig-param">vm=False</em>, <em class="sig-param">name_y=None</em>, <em class="sig-param">name_x=None</em>, <em class="sig-param">name_yend=None</em>, <em class="sig-param">name_q=None</em>, <em class="sig-param">name_w=None</em>, <em class="sig-param">name_ds=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysal/model/spreg/error_sp_het.html#GM_Combo_Het.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysal.model.spreg.GM_Combo_Het.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pysal.model.spreg.GM_Combo_Het.__init__" title="pysal.model.spreg.GM_Combo_Het.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(self, y, x[, yend, q, w, w_lags, …])</p></td>
<td><p>Initialize self.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">mean_y</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">std_y</span></code></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/generated/pysal.model.spreg.GM_Combo_Het.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2018-, pysal developers.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>